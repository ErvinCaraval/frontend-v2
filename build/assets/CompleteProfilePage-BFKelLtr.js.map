{"version":3,"file":"CompleteProfilePage-BFKelLtr.js","sources":["../../src/pages/CompleteProfilePage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { auth, db } from '../services/firebase';\nimport { updateProfile } from 'firebase/auth';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function CompleteProfilePage() {\n  const [displayName, setDisplayName] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSave = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      if (!auth.currentUser) throw new Error('No autenticado');\n      await updateProfile(auth.currentUser, { displayName });\n      await setDoc(doc(db, 'users', auth.currentUser.uid), {\n        email: auth.currentUser.email,\n        displayName,\n        stats: { gamesPlayed: 0, wins: 0, correctAnswers: 0 }\n      }, { merge: true });\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container\">\n        <div className=\"auth-header\">\n          <h1>Completa tu perfil</h1>\n          <p>Elige tu nombre para mostrar</p>\n        </div>\n        <form onSubmit={handleSave} className=\"auth-form\">\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Nombre para mostrar\"\n              value={displayName}\n              onChange={e => setDisplayName(e.target.value)}\n              required\n              disabled={loading}\n            />\n          </div>\n          {error && <div className=\"error-message\">{error}</div>}\n          <button type=\"submit\" className=\"btn btn-primary btn-large\" disabled={loading}>\n            {loading ? 'Guardando...' : 'Guardar'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":["CompleteProfilePage","displayName","setDisplayName","useState","error","setError","loading","setLoading","navigate","useNavigate","handleSave","e","auth","updateProfile","setDoc","doc","db","err","jsxs","jsx"],"mappings":"yFAMA,SAAwBA,GAAsB,CAC5C,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAE,EAC3C,CAACC,EAAOC,CAAQ,EAAIF,EAAAA,SAAS,EAAE,EAC/B,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAK,EACtCK,EAAWC,EAAA,EAEXC,EAAa,MAAOC,GAAM,CAC9BA,EAAE,eAAA,EACFN,EAAS,EAAE,EACXE,EAAW,EAAI,EACf,GAAI,CACF,GAAI,CAACK,EAAK,YAAa,MAAM,IAAI,MAAM,gBAAgB,EACvD,MAAMC,EAAcD,EAAK,YAAa,CAAE,YAAAX,EAAa,EACrD,MAAMa,EAAOC,EAAIC,EAAI,QAASJ,EAAK,YAAY,GAAG,EAAG,CACnD,MAAOA,EAAK,YAAY,MACxB,YAAAX,EACA,MAAO,CAAE,YAAa,EAAG,KAAM,EAAG,eAAgB,CAAA,CAAE,EACnD,CAAE,MAAO,GAAM,EAClBO,EAAS,YAAY,CACvB,OAASS,EAAK,CACZZ,EAASY,EAAI,OAAO,CACtB,QAAA,CACEV,EAAW,EAAK,CAClB,CACF,EAEA,aACG,MAAA,CAAI,UAAU,YACb,SAAAW,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,oBAAA,CAAkB,EACtBA,EAAAA,IAAC,KAAE,SAAA,8BAAA,CAA4B,CAAA,EACjC,EACAD,EAAAA,KAAC,OAAA,CAAK,SAAUR,EAAY,UAAU,YACpC,SAAA,CAAAS,EAAAA,IAAC,MAAA,CAAI,UAAU,cACb,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,YAAY,sBACZ,MAAOlB,EACP,SAAUU,GAAKT,EAAeS,EAAE,OAAO,KAAK,EAC5C,SAAQ,GACR,SAAUL,CAAA,CAAA,EAEd,EACCF,GAASe,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAiB,SAAAf,EAAM,EAChDe,EAAAA,IAAC,SAAA,CAAO,KAAK,SAAS,UAAU,4BAA4B,SAAUb,EACnE,SAAAA,EAAU,eAAiB,SAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ"}